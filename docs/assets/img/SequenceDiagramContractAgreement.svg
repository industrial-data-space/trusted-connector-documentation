<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="501px" preserveAspectRatio="none" style="width:590px;height:501px;" version="1.1" viewBox="0 0 590 501" width="590px" zoomAndPan="magnify"><defs><filter height="300%" id="f9rywbd1ooomw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="310" x="140" y="28.708">ContractAgreement Msg Flow</text><rect fill="#FFFFFF" filter="url(#f9rywbd1ooomw)" height="64.2656" style="stroke:#000000;stroke-width:2.0;" width="286" x="290" y="129.3828"/><rect fill="#FFFFFF" filter="url(#f9rywbd1ooomw)" height="160.3359" style="stroke:#000000;stroke-width:2.0;" width="457" x="48" y="277.9141"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="457" x="48" y="394.3125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="75.25" y2="457.25"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="306" x2="306" y1="75.25" y2="457.25"/><rect fill="#FEFECE" filter="url(#f9rywbd1ooomw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="114" x="5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="12" y="59.9482">IDSCP2-Client</text><rect fill="#FEFECE" filter="url(#f9rywbd1ooomw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="245" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="252" y="59.9482">IDSCP2-Server</text><rect fill="#FEFECE" filter="url(#f9rywbd1ooomw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="114" x="5" y="457.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="12" y="477.2451">IDSCP2-Client</text><rect fill="#FEFECE" filter="url(#f9rywbd1ooomw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="245" y="457.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="252" y="477.2451">IDSCP2-Server</text><polygon fill="#A80036" points="294,102.8828,304,106.8828,294,110.8828,298,106.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="300" y1="106.8828" y2="106.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="71" y="101.8169">ContractRequestMessage</text><line style="stroke:#A80036;stroke-width:1.0;" x1="306" x2="348" y1="104.3828" y2="104.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="348" y1="104.3828" y2="117.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307" x2="348" y1="117.3828" y2="117.3828"/><polygon fill="#A80036" points="317,113.3828,307,117.3828,317,121.3828,313,117.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="313" y="99.3169">checks ContractOffer</text><path d="M290,129.3828 L356,129.3828 L356,136.3828 L346,146.3828 L290,146.3828 L290,129.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="64.2656" style="stroke:#000000;stroke-width:2.0;" width="286" x="290" y="129.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="305" y="142.4497">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="371" y="141.5933">[RequestedContract not ok]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="306" x2="348" y1="172.6484" y2="172.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="348" y1="172.6484" y2="185.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307" x2="348" y1="185.6484" y2="185.6484"/><polygon fill="#A80036" points="317,181.6484,307,185.6484,317,189.6484,313,185.6484" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="313" y="167.5825">adapts ContractOffer</text><polygon fill="#A80036" points="75,219.7813,65,223.7813,75,227.7813,71,223.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="69" x2="305" y1="223.7813" y2="223.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="81" y="218.7153">ContractResponseMessage</text><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="106" y1="252.9141" y2="252.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="106" x2="106" y1="252.9141" y2="265.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="106" y1="265.9141" y2="265.9141"/><polygon fill="#A80036" points="75,261.9141,65,265.9141,75,269.9141,71,265.9141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="71" y="247.8481">checks ContractOffer</text><path d="M48,277.9141 L114,277.9141 L114,284.9141 L104,294.9141 L48,294.9141 L48,277.9141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="160.3359" style="stroke:#000000;stroke-width:2.0;" width="457" x="48" y="277.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="63" y="290.981">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="129" y="290.1245">[ContractOffer ok]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="505" y1="395.3125" y2="395.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="53" y="405.5229">[ContractOffer not ok]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="106" y1="321.1797" y2="321.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="106" x2="106" y1="321.1797" y2="334.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="106" y1="334.1797" y2="334.1797"/><polygon fill="#A80036" points="75,330.1797,65,334.1797,75,338.1797,71,334.1797" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="71" y="316.1138">saves ContractAgreement</text><polygon fill="#A80036" points="294,361.8125,304,365.8125,294,369.8125,298,365.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="300" y1="365.8125" y2="365.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="71" y="360.7466">ContractAgreementMessage</text><line style="stroke:#A80036;stroke-width:1.0;" x1="306" x2="348" y1="363.3125" y2="363.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="348" y1="363.3125" y2="376.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307" x2="348" y1="376.3125" y2="376.3125"/><polygon fill="#A80036" points="317,372.3125,307,376.3125,317,380.3125,313,376.3125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="313" y="358.2466">saves ContractAgreement</text><polygon fill="#A80036" points="294,426.25,304,430.25,294,434.25,298,430.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="300" y1="430.25" y2="430.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="71" y="425.1841">ContractRejectionMessage</text><!--MD5=[106a1307c0df6c8c02748fda691a1e0e]
@startuml
!pragma teoz true
title **ContractAgreement Msg Flow**

"IDSCP2-Client"->"IDSCP2-Server": **ContractRequestMessage**
& "IDSCP2-Server" -> "IDSCP2-Server": checks ContractOffer
alt RequestedContract not ok
	"IDSCP2-Server" -> "IDSCP2-Server": adapts ContractOffer
end
"IDSCP2-Server" -> "IDSCP2-Client": **ContractResponseMessage**
"IDSCP2-Client" ->"IDSCP2-Client": checks ContractOffer

alt ContractOffer ok
"IDSCP2-Client" ->"IDSCP2-Client": saves ContractAgreement
"IDSCP2-Client"->"IDSCP2-Server": **ContractAgreementMessage**
&"IDSCP2-Server" ->"IDSCP2-Server": saves ContractAgreement

else ContractOffer not ok
"IDSCP2-Client"->"IDSCP2-Server": **ContractRejectionMessage**
end
@enduml

PlantUML version 1.2020.23beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>